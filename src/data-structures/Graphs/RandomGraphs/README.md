# Алгоритмы на случайных графах
**ERGraphKit** — микробиблиотека для работы с моделью **Эрдёша–Реньи**  
`G(n,p)` и базовых алгоритмов над такими графами. 

---

## 1. Что такое `G(n,p)`

 Пусть имеется граф на **n** вершнах.  
 Каждое возможное ребро появляется *независимо* с вероятностью **p**  
  (Бернулли-схема). Количество рёбер `m` подчиняется **биномиальному**  распределению  

  $$
    m \;\sim\; \mathrm{Bin}\!\bigl(\tfrac{n(n-1)}{2},\,p\bigr).
  $$

###  Вероятность конкретного графа  

Пусть в графе присутствуют ровно $m$ рёбер, а остальные отсутствуют.  
Тогда

$$
  \Pr\!\bigl(G\bigr) \;=\; p^{\,m}\,\bigl(1-p\bigr)^{\binom{n}{2}-m}.
$$

## 2. Зачем нужны случайные графы `G(n,p)` — какие свойства они аппроксимируют

| Cетевое свойство | На примере модели `G(n,p)` | Зачем это нужно |
|------------------|----------------------------|-----------------|
| **Связность** | $$ p \; \ge \; \dfrac{\ln n \;+\; \ln\!\bigl(1/\varepsilon\bigr)}{n} \;\;\Longrightarrow\;\; \Pr\bigl(\text{граф связан}\bigr)\;\ge\;1-\varepsilon $$ | Можно заранее выбрать плотность каналов «p» так, чтобы беспроводная/датчиковая сеть оставалась связной с заданной надёжностью $$(1-\varepsilon).$$ |
| **Средняя длина пути** | $$ \bar{\ell} \;\approx\; \dfrac{\ln n}{\ln (n p)}, \qquad n p \gg 1 $$ | Оценивает ожидающееся число «хопов» между случайными узлами — важно для скорости распространения информации или вируса. |
| **Хроматическое число** | $$ \chi(G)\;\approx\; \dfrac{n}{\,2\,\ln_{1/(1-p)} n\,} $$ | Дает теоретический минимум «частот» / регистров / экзаменационных дней без конфликтов; жадная раскраска из нашего кода даёт не более $$((2+\varepsilon)\,\chi(G))$$. |

## 2. Что умеет библиотека `ERGraphKit`

| Функция | Что делает                                                                                                                           | Сложность | Практический смысл |
|---------|--------------------------------------------------------------------------------------------------------------------------------------|-----------|--------------------|
| `gen_erdos_renyi(n,p,seed,ε)` | **Edge-skipping**-генерация. При `ε > 0` берёт $$p=\dfrac{\ln n+\ln(1/\varepsilon)}{n}$$ — граф связан с вероятностью$$ ≥ (1-\varepsilon).$$ | \(O(n+m)\) | Получаем граф заранее нужной надёжности |
| `connected(n,edges)` | Проверка связности BFS                                                                                                               | \(O(n+m)\) | Быстрая проверка «живости» сети |
| `avg_path_len(n,edges,s)` | Берёт s случайных вершин, для каждой BFS; даёт оценку $$\bar{\ell}$$                                                                 | \(O(s\,(n+m))\) | Оцениваем средний диаметр (эффект 6 рукопожатий) |
| `greedy_coloring(n,edges)` | Жадная раскраска. Для \(G(n,p)\): $$\chi_{\text{greedy}}\le(2+\varepsilon)\,\chi(G)$$ — «почти оптимально»                           | \(O(n+m)\) | Расписания, Wi-Fi-каналы, регистры |
| `edge_resilience(n,edges,k,T)` | cлучайно удаляем k рёбер T раз, считаем $$\hat P_k$$ — вероятность остаться связанным                                                | \(O(T\,(n+m))\) | Ключевая метрика помехоустойчивости: сколько каналов можно потерять |
| `to_dot(n,edges,colors,label)` | Экспорт в **GraphViz**                                                                                                               | \(O(n+m)\) | Быстрая визуализация результатов |


## 3 · Быстрый старт

### 3.1 Клонирование

```bash
# GitHub
git clone https://github.com/MaksaDragon/DDZ.git
# или зеркало
svn checkout svn://svnhub.ru:7890/2024/mp2336/DDZ DDZ
cd DDZ
```
### 3.2 Сборка - Linux
```bash
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release
make -j$(nproc)
ctest --output-on-failure         # запустить все unit-тесты

```
### 3.3 Сборка - Windows
```powershell
:: x64 Native Tools CMD for VS 2022
mkdir build && cd build
cmake .. -G "NMake Makefiles" -DCMAKE_BUILD_TYPE=Release
nmake
ctest -C Release -V
```

---

## 4. Зависимости 

* **CMake ≥ 3.20**  
* **C++23-совместимый компилятор**  
  * Linux → GCC 11+ или Clang 14+  
  * Windows → MSVC (Visual Studio 2022)  
* **make / ninja** — для сборки под Unix  
* **Google Test** — тянется автоматически через CMake FetchContent  
* **GraphViz** (`dot`,`sfdp`) — только если хотите PNG-картинки


<details>
<summary>Установка «в один присест»</summary>

```bash
# Ubuntu 22.04
sudo apt update
sudo apt install g++-12 cmake make libgtest-dev graphviz
```